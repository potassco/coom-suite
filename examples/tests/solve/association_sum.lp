integer("Module.size").
range("Module.size",10,10).
type("root","product").
type("root.modules[0]","Module").
type("root.modules[1]","Module").
type("root.elements[0]","Element").
type("root.modules[1].size[0]","Module.size").
type("root.modules[0].size[0]","Module.size").
index("root.modules[0]",0).
index("root.modules[1]",1).
index("root.elements[0]",0).
index("root.modules[1].size[0]",0).
index("root.modules[0].size[0]",0).
parent("root.modules[0]","root").
parent("root.modules[1]","root").
parent("root.elements[0]","root").
parent("root.modules[1].size[0]","root.modules[1]").
parent("root.modules[0].size[0]","root.modules[0]").
association("root.elements[0]","Module","modules",1,2).
replace((("root.elements[0].modules[1].size[0]","root.modules[1].size[0]"),0),(("root.elements[0]","root.modules[1]"),"modules",1)).
replace((("root.elements[0].modules[1].size[0]","root.modules[0].size[0]"),0),(("root.elements[0]","root.modules[0]"),"modules",1)).
replace((("root.elements[0].modules[0].size[0]","root.modules[1].size[0]"),0),(("root.elements[0]","root.modules[1]"),"modules",0)).
replace((("root.elements[0].modules[0].size[0]","root.modules[0].size[0]"),0),(("root.elements[0]","root.modules[0]"),"modules",0)).
constraint(("root.modules",2),"lowerbound").
constraint(("root.elements",1),"lowerbound").
constraint(("root.modules[0].size",1),"lowerbound").
constraint(("root.modules[1].size",1),"lowerbound").
constraint((0,"!count(root.elements[0])=1||sum(root.elements[0].modules.size)<15"),"boolean").
function("sum(root.elements[0].modules.size)","sum","root.elements[0].modules.size").
function("count(root.elements[0])","count","root.elements[0]").
set("root.modules","root.modules[0]").
set("root.modules","root.modules[1]").
set("root.elements","root.elements[0]").
set("root.modules[0].size","root.modules[0].size[0]").
set("root.modules[1].size","root.modules[1].size[0]").
set("root.elements[0].modules.size","root.elements[0].modules[1].size[0]").
set("root.elements[0].modules.size","root.elements[0].modules[0].size[0]").
set("root.elements[0]","root.elements[0]").
binary("sum(root.elements[0].modules.size)<15","sum(root.elements[0].modules.size)","<","15").
binary("count(root.elements[0])=1","count(root.elements[0])","=","1").
binary("!count(root.elements[0])=1||sum(root.elements[0].modules.size)<15","!count(root.elements[0])=1","||","sum(root.elements[0].modules.size)<15").
number("15",15).
number("1",1).
unary("!count(root.elements[0])=1","!","count(root.elements[0])=1").
part("product").
part("Module").
part("Element").
